version: '3.8'

services:
  # Defense Agency - Threat Detection & Response
  defense-agency:
    image: nginx:alpine
    container_name: ark95x-defense-agency
    ports:
      - "8081:80"
    environment:
      - AGENCY_NAME=Defense
      - AGENCY_ROLE=threat-detection
      - RESPONSE_TIME=0.1s
      - AUTONOMY_LEVEL=FULL
    volumes:
      - ./data/defense:/data
    networks:
      - federated-mesh
    restart: unless-stopped
    labels:
      - "ark95x.agency=defense"
      - "ark95x.priority=critical"

  # Operations Agency - Workflow Automation
  operations-agency:
    image: nginx:alpine
    container_name: ark95x-operations-agency
    ports:
      - "8082:80"
    environment:
      - AGENCY_NAME=Operations
      - AGENCY_ROLE=automation
      - PERFORMANCE_TARGET=99.9%
      - AUTONOMY_LEVEL=FULL
    volumes:
      - ./data/operations:/data
    networks:
      - federated-mesh
    restart: unless-stopped
    labels:
      - "ark95x.agency=operations"
      - "ark95x.priority=high"

  # Audit Agency - Compliance & Monitoring
  audit-agency:
    image: nginx:alpine
    container_name: ark95x-audit-agency
    ports:
      - "8083:80"
    environment:
      - AGENCY_NAME=Audit
      - AGENCY_ROLE=compliance
      - DATA_RETENTION=90days
      - AUTONOMY_LEVEL=FULL
    volumes:
      - ./data/audit:/data
    networks:
      - federated-mesh
    restart: unless-stopped
    labels:
      - "ark95x.agency=audit"
      - "ark95x.priority=high"

  # Communication Agency - Peer-to-Peer Routing
  communication-agency:
    image: nginx:alpine
    container_name: ark95x-communication-agency
    ports:
      - "8084:80"
    environment:
      - AGENCY_NAME=Communication
      - AGENCY_ROLE=routing
      - THROUGHPUT=10000msg/s
      - AUTONOMY_LEVEL=FULL
    volumes:
      - ./data/communication:/data
    networks:
      - federated-mesh
    restart: unless-stopped
    labels:
      - "ark95x.agency=communication"
      - "ark95x.priority=critical"

  # Central Dashboard - Monitoring & Control
  dashboard:
    image: nginx:alpine
    container_name: ark95x-dashboard
    ports:
      - "8080:80"
    environment:
      - DASHBOARD_NAME=ARK95X Command Center
      - SYSTEM_STATUS=OPERATIONAL
    volumes:
      - ./dashboard:/usr/share/nginx/html:ro
    networks:
      - federated-mesh
    restart: unless-stopped
    depends_on:
      - defense-agency
      - operations-agency
      - audit-agency
      - communication-agency
    labels:
      - "ark95x.component=dashboard"

networks:
  federated-mesh:
    driver: bridge
    name: ark95x-federated-mesh
    ipam:
      driver: default
      config:
        - subnet: 172.28.0.0/16

volumes:
  defense-data:
  operations-data:
  audit-data:
  communication-data:

# ARK95X Sovereign AI Command Center
# Federated Defense System - Docker Compose
# Zero central bottleneck | Sub-second response | 99.999% uptime
# Network effects start here.
